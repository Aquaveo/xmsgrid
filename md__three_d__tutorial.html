<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>xmsgrid: 3D UGrid Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen_html_style.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">xmsgrid
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('md__three_d__tutorial.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">3D UGrid Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#ThreeD_Tutorial">3D UGrid Tutorial</a><ul><li class="level2"><a href="#Intro_3Ugrid">Introduction</a></li>
<li class="level2"><a href="#Example_DefiningA3dUGridCell">Example - Defining Ugrid Cells</a></li>
<li class="level2"><a href="#Example_New_With_Data_3d">Example - Creating a New 3D UGrid With Data</a></li>
<li class="level2"><a href="#Example_New3d">Example - Creating a New 3D UGrid</a></li>
<li class="level2"><a href="#Example_SetPoints3d">Example - Setting the UGrid Points</a></li>
<li class="level2"><a href="#Example_SetCellStream3d">Example - Setting the UGrid Cell Stream</a></li>
<li class="level2"><a href="#Example_ValidatingCellStream3d">Example - Validating the Cellstream</a></li>
<li class="level2"><a href="#Example_GetNumberOfPoints3d">Example - Get Number Of Points</a></li>
<li class="level2"><a href="#Example_GetPoints3d">Example - Get Points</a></li>
<li class="level2"><a href="#Example_GetPoint3d">Example - Get Point</a></li>
<li class="level2"><a href="#Example_SetPoint3d">Example - Set Point</a></li>
<li class="level2"><a href="#Example_GetPointsFromPointIdxs3d">Example - Get Points from Point Indices</a></li>
<li class="level2"><a href="#Example_GetExtents3d">Example - Get Extents of UGrid</a></li>
<li class="level2"><a href="#Example_GetPointCells3d">Example - Get Cells Associated with a Point</a></li>
<li class="level2"><a href="#Example_GetCommonCells3d">Example - Get the Cells that Share the Same Point or Points</a></li>
<li class="level2"><a href="#Example_GetPointsOfCell3d">Example - Get the Points of a Cell</a></li>
<li class="level2"><a href="#Example_GetCellType3d">Example - Get the Type of a Cell</a></li>
<li class="level2"><a href="#Example_GetDimensionCount3d">Example - Get the Count of the Dimensions of Cells used in a UGrid</a></li>
<li class="level2"><a href="#Example_GetCellDimension3d">Example - Get the Dimension of a Cell</a></li>
<li class="level2"><a href="#Example_GetCellStream3d">Example - Get the Cellstream of the UGrid</a></li>
<li class="level2"><a href="#Example_GetSingleCellStream3d">Example - Get a Single Cellstream for One Cell</a></li>
<li class="level2"><a href="#Example_GetCellNeighbors3d">Example - Get the Cells that Neighbor a Given Cell</a></li>
<li class="level2"><a href="#Example_GetPlanViewPolygon3d">Example - Get a Plan View Polygon</a></li>
<li class="level2"><a href="#Example_GetNumberOfCellEdges3d">Example - Get Number of Cell Edges</a></li>
<li class="level2"><a href="#Example_GetCellEdgeFromEdgeIndex3d">Example - Get Cell Edge from Edge Index</a></li>
<li class="level2"><a href="#Example_GetAdjacentCells3d">Example Get Adjacent Cells</a></li>
<li class="level2"><a href="#Example_GetAdjacentCellsFromAGivenEdge3d">Example Get Adjacent Cells from Given Edge</a></li>
<li class="level2"><a href="#Example_GetEdgesFromPoint3d">Example Get Edges Associated with a Point</a></li>
<li class="level2"><a href="#Example_GetEdgesOfCell3d">Example Get Edges Associated with a Cell</a></li>
<li class="level2"><a href="#Example_GetNumberOfFacesForCell">Example Get Number of Faces for a Cell</a></li>
<li class="level2"><a href="#Example_GetCellFace">Example Get Cell Face</a></li>
<li class="level2"><a href="#Example_GetFacesOfCell">Example Get Faces of Cell</a></li>
<li class="level2"><a href="#Example_GetFacesFromPoint">Example GetFacesFromPoint</a></li>
<li class="level2"><a href="#Example_GetCellFaceNeighbor">Example Get Cell Face Neighbor</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="ThreeD_Tutorial"></a>
3D UGrid Tutorial</h1>
<h2><a class="anchor" id="Intro_3Ugrid"></a>
Introduction</h2>
<p>The purpose of this tutorial is to provide explanation on how to use xmsgrid to create three dimensional unstructured grids, or UGrids. A UGrid has points and cells defined using those points. There are many different kinds of cells available, but this tutorial will focus on the 3-dimensional cells, namely: tetrahedron, voxel, hexahedron, wedge, pyramid, and polyhedron.</p>
<h2><a class="anchor" id="Example_DefiningA3dUGridCell"></a>
Example - Defining Ugrid Cells</h2>
<p>Supported 3D grid cells include: tetrahedron (10), voxel (11), hexahedron (12), wedge (13), pyramid (14), and polyhedron (42). A cell is defined with the number declaration of the shape (10, 11, 12, 13, 14, and 42 respectively as defined by the enumeration <a class="el" href="namespacexms.html#ac31bf74ccc479f6e1c2ae761d3d727a9" title="Matches cell types from VTK (see vtkCellType.h) ">xms::XmUGridCellType</a>), then the number of points, followed by the point indices. The cell definitions mirror VTK cell definitions which are available on page 9 of VTK File Formats for VTK version 4.2 at <a href="https://www.vtk.org/wp-content/uploads/2015/04/file-formats.pdf">https://www.vtk.org/wp-content/uploads/2015/04/file-formats.pdf</a>.</p>
<p>A tetrahedron (10) has 4 points. See the illustration in the VTK file Format pdf referenced above on page 9 for a VTK_TETRA for point order. A cell stream example for a tetrahedron is: 10, 4, 0, 1, 2, 3.</p>
<p>A voxel (11) has 8 orthogonially defined points. See the illustration in the VTK file Format pdf referenced above on page 9 for a VTK_VOXEL for point order. A cell stream example for a voxel is: 11, 8, 0, 1, 2, 3, 4, 5, 6, 7.</p>
<p>A hexahedron (12) has 8 points. See the illustration in the VTK file Format pdf referenced above on page 9 for a VTK_HEXAHEDRON for point order. A cell stream example for a hexahedron is: 12, 8, 0, 1, 2, 3, 4, 5, 6, 7.</p>
<p>A wedge (13) has 6 points. See the illustration in the VTK file Format pdf referenced above on page 9 for a VTK_WEDGE for point order. A cell stream example for a wedge is: 13, 6, 0, 1, 2, 3, 4, 5.</p>
<p>A pyramid (14) has 5 points. See the illustration in the VTK file Format pdf referenced above on page 9 for a VTK_PYRAMID for point order. A cell stream example for a pyramid is: 14, 5, 0, 1, 2, 3, 4.</p>
<p>A polyhedron (42) does not a have a defined number of points. A polyhedron cell stream has the following format: The cell type, number of faces, and then repeated for each face the number of points in the face followed by the points in the face declared in a counter-clockwise direction. A cell stream example for a polyhedron is: 42, 6, 4, 10, 13, 12, 11, 4, 10, 11, 15, 16, 4, 11, 12, 16, 15, 4, 12, 13, 17, 16, 4, 13, 10, 14, 17, 4, 14, 15, 16, 17.</p>
<p>The testing code for this example is XmUGridUnitTests::TEST_XmUGrid3DLinear. </p>
<div class="fragment"><div class="line">  VecPt3d points = {{0, 0, 0},   {10, 0, 0},   {20, 0, 0},   {30, 0, 0},   {40, 0, 0},</div>
<div class="line">                    {0, 10, 0},  {10, 10, 0},  {20, 10, 0},  {30, 10, 0},  {40, 10, 0},</div>
<div class="line">                    {0, 20, 0},  {10, 20, 0},  {20, 20, 0},  {30, 20, 0},  {40, 20, 0},</div>
<div class="line">                    {0, 0, 10},  {10, 0, 10},  {20, 0, 10},  {30, 0, 10},  {40, 0, 10},</div>
<div class="line">                    {0, 10, 10}, {10, 10, 10}, {20, 10, 10}, {30, 10, 10}, {40, 10, 10},</div>
<div class="line">                    {0, 20, 10}, {10, 20, 10}, {20, 20, 10}, {30, 20, 10}, {40, 20, 10}};</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Cell type (5), number of points (3), point numbers, counterclockwise</span></div>
<div class="line">  std::vector&lt;int&gt; cells = {(int)XMU_TETRA, 4, 0, 1, 5, 15,</div>
<div class="line">                            (<span class="keywordtype">int</span>)XMU_VOXEL, 8, 1, 2, 6, 7, 16, 17, 21, 22,</div>
<div class="line">                            (int)XMU_HEXAHEDRON, 8, 2, 3, 8, 7, 17, 18, 23, 22,</div>
<div class="line">                            (<span class="keywordtype">int</span>)XMU_POLYHEDRON, 6, <span class="comment">// A polyhedron with 6 faces</span></div>
<div class="line">                            4, 8, 9, 14, 13, <span class="comment">// First face with 4 points : 8, 9, 14, 13</span></div>
<div class="line">                            4, 8, 9, 24, 23, <span class="comment">// Second face with 4 points : 8, 9, 24, 23</span></div>
<div class="line">                            4, 9, 14, 29, 24, <span class="comment">// Third face with 4 points : 9, 14, 29, 28</span></div>
<div class="line">                            4, 13, 14, 29, 28, <span class="comment">// Fourth face with 4 points : 13, 14, 29, 28</span></div>
<div class="line">                            4, 8, 13, 28, 23, <span class="comment">// Fifth face with 4 points : 8, 13, 28, 23</span></div>
<div class="line">                            4, 23, 24, 29, 28, <span class="comment">// Sixth face with 4 points : 23, 24, 29, 28</span></div>
<div class="line">                            (<span class="keywordtype">int</span>)XMU_WEDGE, 6, 3, 4, 18, 8, 9, 23,</div>
<div class="line">                            (<span class="keywordtype">int</span>)XMU_PYRAMID, 5, 5, 6, 11, 10, 20};</div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_New_With_Data_3d"></a>
Example - Creating a New 3D UGrid With Data</h2>
<p>This example shows how to create a new 3D UGrid with the overloaded New function which directly sets the data as it constructs the grid, using the static function <a class="el" href="classxms_1_1_xm_u_grid.html#ad95e11b54ca04baa73571cc4f939a27d" title="Create a new XmUGrid. ">xms::XmUGrid::New(const VecPt3d&amp; a_points, const VecInt&amp; a_cellStream)</a>. Functionality is shared between 2d and 3d UGrids. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#a8e9168df5e65f86cfbc2dbb22a44e9af" title="[snip_test_UGrid_Streams] ">XmUGridUnitTests::testGetSetPoint</a>.</p>
<div class="fragment"><div class="line">  VecPt3d points = {{0, 10, 0}, {10, 10, 0}, {20, 10, 0},  {0, 0, 0},   {10, 0, 0},</div>
<div class="line">                    {20, 0, 0}, {0, -10, 0}, {10, -10, 0}, {20, -10, 0}};</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Cell type (9), number of points (4), point numbers, counterclockwise</span></div>
<div class="line">  VecInt cellStream = {9, 4, 0, 3, 4, 1, 9, 4, 1, 4, 5, 2, 9, 4, 3, 6, 7, 4, 9, 4, 4, 7, 8, 5};</div>
<div class="line"></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid = XmUGrid::New(points, cellStream);</div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_New3d"></a>
Example - Creating a New 3D UGrid</h2>
<p>This example shows how to create a new 3D UGrid. XmUGrid is an abstract class that cannot be instantiated. The static function <a class="el" href="classxms_1_1_xm_u_grid.html#a51464b4cc71bddbb97e9e8a6ff7fb798" title="Create a new XmUGrid. ">xms::XmUGrid::New()</a> is the only method to obtain a Boost Shared Pointer to an instance of XmUGrid. Points and Cellstream may be passed to New to initialize the UGrid with data but this is not required. Functionality is shared between 2d and 3d UGrids. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#afecce71921cd7ff64d695314747a48aa" title="Test XmUGrid point and cell streams. ">XmUGridUnitTests::testUGridStreams</a>.</p>
<h2><a class="anchor" id="Example_SetPoints3d"></a>
Example - Setting the UGrid Points</h2>
<p>This example shows how to set all of the UGrid points using <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a3dd17d1fd619346f4d0e90a34ae94cf9" title="Set UGrid points. ">xms::XmUGridImpl::SetPoints</a>. The Ugrid points cannot be added or removed individually, though they can be edited individually. The SetPoints function takes one argument, a vector of 3D points. It is reccomended that each point is unique to avoid unexpected behavior. Functionality is shared between 2d and 3d UGrids. The testing code for this example is the same as used for creating a new UGrid, <a class="el" href="class_xm_u_grid_unit_tests.html#afecce71921cd7ff64d695314747a48aa" title="Test XmUGrid point and cell streams. ">XmUGridUnitTests::testUGridStreams</a>.</p>
<h2><a class="anchor" id="Example_SetCellStream3d"></a>
Example - Setting the UGrid Cell Stream</h2>
<p>This example shows how to set the entire UGrid Cellstream using <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a207213ebc3c71b3b616d153985e10a29" title="[snip_test_SetCellStream] ">xms::XmUGridImpl::SetCellStream</a>. Cellstreams are formatted as a stream of integers starting with the cell type as described by the enumeration XmUGridCellType, then the number of points in the cell, followed by a series of indices to points. The SetCellStream function takes one argument, a vector of integers formatted as previously described. Functionality is shared between 2d and 3d UGrids. The testing code for this example is the same as used for creating a new UGrid, <a class="el" href="class_xm_u_grid_unit_tests.html#afecce71921cd7ff64d695314747a48aa" title="Test XmUGrid point and cell streams. ">XmUGridUnitTests::testUGridStreams</a>.</p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#afecce71921cd7ff64d695314747a48aa">XmUGridUnitTests::testUGridStreams</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// test empty UGrid</span></div>
<div class="line">  BSHP&lt;XmUGrid&gt; emptyUGrid = XmUGrid::New();</div>
<div class="line">  VecPt3d points = emptyUGrid-&gt;GetPoints();</div>
<div class="line">  TS_ASSERT_EQUALS(0, points.size());</div>
<div class="line"></div>
<div class="line">  VecInt cellStream = emptyUGrid-&gt;GetCellStream();</div>
<div class="line">  TS_ASSERT(XmUGrid::ValidCellStream(cellStream));</div>
<div class="line">  TS_ASSERT_EQUALS(0, cellStream.size());</div>
<div class="line"></div>
<div class="line">  <span class="comment">// test adding points and cell stream</span></div>
<div class="line"></div>
<div class="line">  <span class="comment">//     0----1----2</span></div>
<div class="line">  <span class="comment">//     |    |    |</span></div>
<div class="line">  <span class="comment">//     3----4----5</span></div>
<div class="line">  <span class="comment">//     |    |    |</span></div>
<div class="line">  <span class="comment">//     6----7----8</span></div>
<div class="line"></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid = XmUGrid::New();</div>
<div class="line"></div>
<div class="line">  points = {{0, 10, 0}, {10, 10, 0}, {20, 10, 0},  {0, 0, 0},   {10, 0, 0},</div>
<div class="line">            {20, 0, 0}, {0, -10, 0}, {10, -10, 0}, {20, -10, 0}};</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Cell type (9), number of points (4), point numbers, counterclockwise</span></div>
<div class="line">  cellStream = {9, 4, 0, 3, 4, 1, 9, 4, 1, 4, 5, 2, 9, 4, 3, 6, 7, 4, 9, 4, 4, 7, 8, 5};</div>
<div class="line"></div>
<div class="line">  ugrid-&gt;SetPoints(points);</div>
<div class="line">  VecPt3d pointsOut = ugrid-&gt;GetPoints();</div>
<div class="line">  TS_ASSERT_EQUALS(points, pointsOut);</div>
<div class="line"></div>
<div class="line">  TS_ASSERT(ugrid-&gt;SetCellStream(cellStream));</div>
<div class="line">  VecInt cellStreamOut = ugrid-&gt;GetCellStream();</div>
<div class="line">  TS_ASSERT_EQUALS(cellStream, cellStreamOut);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test invalid cell streams</span></div>
<div class="line">  cellStream = {-1};</div>
<div class="line">  TS_ASSERT(!XmUGrid::ValidCellStream(cellStream));</div>
<div class="line">  cellStream = {9, 4, 0, 3, 4};</div>
<div class="line">  TS_ASSERT(!XmUGrid::ValidCellStream(cellStream));</div>
<div class="line">  cellStream = {9, 3, 0, 3, 4, 1};</div>
<div class="line">  TS_ASSERT(!XmUGrid::ValidCellStream(cellStream));</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test adding cellstream then points (should fail)</span></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugridBadOrder = XmUGrid::New();</div>
<div class="line">  TS_ASSERT(!ugridBadOrder-&gt;SetCellStream(cellStream));</div>
<div class="line"></div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testUGridStreams</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_ValidatingCellStream3d"></a>
Example - Validating the Cellstream</h2>
<p>This example shows how to validate whether a given Cellstream is valid as previously defined. The <a class="el" href="classxms_1_1_xm_u_grid.html#addf4c365d29c55d7624100b35c7bf223" title="Check a cell stream to make sure it&#39;s valid. Compares cell type against expected number of points...">xms::XmUGridImpl::ValidCellStream</a> checks whether all cell types and point counts within the cellstream match up, but does not check for orientation or valid point positions. This function should not be relied on to catch all errors, but can be a basic check before setting the cellstream. The function takes one arguement, a cellstream containing one or more cells. Functionality is shared between 2d and 3d UGrids. The testing code for this example is XmUGridUnitTests::SetCellStream.</p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">bool</span> XmUGridImpl::SetCellStream(<span class="keyword">const</span> VecInt&amp; a_cellStream)</div>
<div class="line">{</div>
<div class="line">  <span class="keywordflow">if</span> (ValidCellStream(a_cellStream))</div>
<div class="line">  {</div>
<div class="line">    m_cellStream = a_cellStream;</div>
<div class="line">    UpdateLinks();</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line">  }</div>
<div class="line">  <span class="keywordflow">else</span></div>
<div class="line">  {</div>
<div class="line">    XM_LOG(xmlog::error, <span class="stringliteral">&quot;Invalid cell stream data.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line">  }</div>
<div class="line">} <span class="comment">// XmUGridImpl::SetCellStream</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetNumberOfPoints3d"></a>
Example - Get Number Of Points</h2>
<p>This example shows how to return the number of points contained in a UGrid. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a7d11b54530e3925943587e1f4480355b" title="Get the number of points. ">xms::XmUGridImpl::GetNumberOfPoints</a> function returns the number of points in the UGrid. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestPointFunctions.</p>
<h2><a class="anchor" id="Example_GetPoints3d"></a>
Example - Get Points</h2>
<p>This example shows how to get all points contained within the XmUGrid. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a033f6aaa6e64b716bfa334148198630c" title="Get vector of UGrid points. ">xms::XmUGridImpl::GetPoints</a> function returns a vector of Pt3d's. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestPointFunctions.</p>
<h2><a class="anchor" id="Example_GetPoint3d"></a>
Example - Get Point</h2>
<p>This example shows how to get a specific point given a point index. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#ac3354503ac19b717b8619391b0a3eb01" title="Get the point. ">xms::XmUGridImpl::GetPoint</a> function returns the Pt3d of the point at the specified index. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestPointFunctions.</p>
<h2><a class="anchor" id="Example_SetPoint3d"></a>
Example - Set Point</h2>
<p>This example shows how to set a specific point given a point index. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#aeb29c91957f552beae6f922d963070b6" title="Set the point. ">xms::XmUGridImpl::SetPoint</a> function takes a point index and a Pt3d as arguements and returns whether the operation was succesful. The function may fail and return false if the change would cause any edges to cross. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestPointFunctions.</p>
<h2><a class="anchor" id="Example_GetPointsFromPointIdxs3d"></a>
Example - Get Points from Point Indices</h2>
<p>This example shows how to convert a vector of point indices into a vector of Pt3d's. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a5033536262ea9abed24cca4da985aa60" title="Convert a vector of point indices into a vector of point 3d. ">xms::XmUGridImpl::GetPointsFromPointIdxs</a> function takes a vector of Point Indices as an arguement and returns a vector of corresponding Pt3d's as a result. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestPointFunctions.</p>
<h2><a class="anchor" id="Example_GetExtents3d"></a>
Example - Get Extents of UGrid</h2>
<p>This example shows how to get the extents of a UGrid. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a110228f473bdce917fdae9edfd3ea970" title="Get extents of all points in UGrid. ">xms::XmUGridImpl::GetExtents</a> function takes two 3D points as arguements describing the minimum and maximum extent that the points of the UGrid cover. These arguments will be set by the funtion. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestPointFunctions.</p>
<h2><a class="anchor" id="Example_GetPointCells3d"></a>
Example - Get Cells Associated with a Point</h2>
<p>This example shows how to the cells associated with a single point. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a5914a901abb898e83ec0dbb5e466ef2d" title="Get the cells that are associated with the specified point. ">xms::XmUGridImpl::GetPointCells</a> function takes one point index as an arguement and returns a vector of point indices. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestPointFunctions.</p>
<h2><a class="anchor" id="Example_GetCommonCells3d"></a>
Example - Get the Cells that Share the Same Point or Points</h2>
<p>This example shows how to the cells that share the same point or points. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a5a1c0c6182486cdc3af32029df1997ea" title="Gets the common cells from a vector of points. ">xms::XmUGridImpl::GetCommonCells</a> function takes a vector of point indices as an arguement and returns a vector of cell indices. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestPointFunctions.</p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#ae950f2efb2ef0e1d655bf12ed1803f83">XmUGridUnitTests::testPointFunctions</a>()</div>
<div class="line">{</div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid = <a class="code" href="namespacexms.html#a65e5eef7f0e8c64484b1aaa0924364b7">TEST_XmUGridSimpleQuad</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetNumberOfPoints</span></div>
<div class="line">  TS_ASSERT_EQUALS(ugrid-&gt;GetNumberOfPoints(), 9);</div>
<div class="line">  VecPt3d points = {{0, 10, 0}, {10, 10, 0}, {20, 10, 0},  {0, 0, 0},   {10, 0, 0},</div>
<div class="line">                    {20, 0, 0}, {0, -10, 0}, {10, -10, 0}, {20, -10, 0}};</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetPoints</span></div>
<div class="line">  TS_ASSERT_EQUALS(ugrid-&gt;GetPoints(), points);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; points.size(); ++i)</div>
<div class="line">  {</div>
<div class="line">    TS_ASSERT_EQUALS(points[i], ugrid-&gt;GetPoint(i));</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test SetPoint &amp; GetPoint</span></div>
<div class="line">  Pt3d invalid = {100, 100, 100};</div>
<div class="line">  Pt3d valid = {5, 5, 5};</div>
<div class="line">  TS_ASSERT(!ugrid-&gt;SetPoint(4, invalid));</div>
<div class="line">  TS_ASSERT_EQUALS(points[4], ugrid-&gt;GetPoint(4));</div>
<div class="line">  TS_ASSERT(ugrid-&gt;SetPoint(4, valid));</div>
<div class="line">  TS_ASSERT_EQUALS(valid, ugrid-&gt;GetPoint(4));</div>
<div class="line"></div>
<div class="line">  VecInt pointIndices = {0, 3, 6};</div>
<div class="line">  VecPt3d expectedPoints = {{0, 10, 0}, {0, 0, 0}, {0, -10, 0}};</div>
<div class="line">  VecPt3d pointsPt3d;</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetPointsFromPointIdxs</span></div>
<div class="line">  pointsPt3d = ugrid-&gt;GetPointsFromPointIdxs(pointIndices);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedPoints, pointsPt3d);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetExtents</span></div>
<div class="line">  Pt3d min, max, expectedMin = {0, -10, 0}, expectedMax = {20, 10, 5};</div>
<div class="line">  ugrid-&gt;GetExtents(min, max);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedMin, min);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedMax, max);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetPointCells</span></div>
<div class="line">  VecInt expectedCells = {0, 2};</div>
<div class="line">  VecInt cellsAssociated = ugrid-&gt;GetPointCells(3);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, cellsAssociated);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetCommonCells</span></div>
<div class="line">  VecInt expectedCommonCells = {0, 1};</div>
<div class="line">  VecInt pointIndex = {1};</div>
<div class="line">  VecInt commonCells = ugrid-&gt;GetCommonCells(pointIndex);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, cellsAssociated);</div>
<div class="line"></div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testPointFunctions</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetPointsOfCell3d"></a>
Example - Get the Points of a Cell</h2>
<p>This example shows how to get the points of a cell. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a33e622b0d2bae98669f462ad43518235" title="Get the points of a cell (including polyhedron) ">xms::XmUGridImpl::GetPointsOfCell</a> function takes one cell index and returns a vector of point indices. There is also an overloaded function that will take the vector of point indices as an argument passed by reference which returns whether the operation was successful. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestCellFunctions.</p>
<h2><a class="anchor" id="Example_GetCellType3d"></a>
Example - Get the Type of a Cell</h2>
<p>This example shows how to get the type of a cell. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a36d0b59da6296f1e990583cad17c86f5" title="Get the number of cells. ">xms::XmUGridImpl::GetCellType</a> function takes one cell index and returns the cell type. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestCellFunctions.</p>
<h2><a class="anchor" id="Example_GetDimensionCount3d"></a>
Example - Get the Count of the Dimensions of Cells used in a UGrid</h2>
<p>This example shows how to get the count of the dimensions of cells used in a UGrid. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a3a1f3e0d8166e40b1f23cfe20827c2b0" title="Count all number of the cells with each dimenion (0, 1, 2, 3) ">xms::XmUGridImpl::GetDimensionCount</a> function returns a vector with the number of cells with zero dimensions in the zero index, number of cells with one dimension in the first index, number of cells with two dimensions in the second index, and the number of cells with three dimensions in the third index. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestCellFunctions.</p>
<h2><a class="anchor" id="Example_GetCellDimension3d"></a>
Example - Get the Dimension of a Cell</h2>
<p>This example shows how to get the dimension of a cell. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a672fe28101f211d9291001e0ce6a5318" title="Get the dimension of the specified cell. ">xms::XmUGridImpl::GetCellDimension</a> function takes one cell index and returns the cell dimension as an integer value. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, XmUGridUnitTests::TestCellFunctions.</p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#aa04937d86269192d53cf353366f6fdd5">XmUGridUnitTests::testCellFunctions</a>()</div>
<div class="line">{</div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid = <a class="code" href="namespacexms.html#a65e5eef7f0e8c64484b1aaa0924364b7">TEST_XmUGridSimpleQuad</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetPointsOfCell</span></div>
<div class="line">  VecInt pointsOfCell = ugrid-&gt;GetPointsOfCell(0);</div>
<div class="line">  VecInt expectedPoints = {0, 3, 4, 1};</div>
<div class="line">  TS_ASSERT_EQUALS(expectedPoints, pointsOfCell);</div>
<div class="line">  <span class="comment">// Test overload</span></div>
<div class="line">  ugrid-&gt;GetPointsOfCell(0, pointsOfCell);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedPoints, pointsOfCell);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetCellType</span></div>
<div class="line">  TS_ASSERT_EQUALS(XMU_QUAD, ugrid-&gt;GetCellType(0));</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetDimensionCount</span></div>
<div class="line">  VecInt expectedDimensions = {0, 0, 4, 0};</div>
<div class="line">  TS_ASSERT_EQUALS(expectedDimensions, ugrid-&gt;GetDimensionCount());</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetCellDimension</span></div>
<div class="line">  TS_ASSERT_EQUALS(2, ugrid-&gt;GetCellDimension(0));</div>
<div class="line"></div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testCellFunctions</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetCellStream3d"></a>
Example - Get the Cellstream of the UGrid</h2>
<p>This example shows how to get the entire cellstream of the UGrid. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a01973db2557667f57acd11fc1c5af393" title="Get cell stream vector for the entire UGrid. ">xms::XmUGridImpl::GetCellStream</a> function returns a vector of integers that is the cell stream. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, <a class="el" href="class_xm_u_grid_unit_tests.html#a161f884b0ca131ac8c9a689a0413b1e5" title="Test various cell functions. ">XmUGridUnitTests::testGetCellStreamFunctions</a>.</p>
<h2><a class="anchor" id="Example_GetSingleCellStream3d"></a>
Example - Get a Single Cellstream for One Cell</h2>
<p>This example shows how to get a single cellstream for one cell. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a0e5b02d9ed300c32ca8ca9fab9e2538f" title="[snip_test_SetCellStream] ">xms::XmUGridImpl::GetSingleCellStream</a> function takes a cell index and a vector of integers that is the cell stream for the specified cell passed in by reference. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, <a class="el" href="class_xm_u_grid_unit_tests.html#a161f884b0ca131ac8c9a689a0413b1e5" title="Test various cell functions. ">XmUGridUnitTests::testGetCellStreamFunctions</a>.</p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#a161f884b0ca131ac8c9a689a0413b1e5">XmUGridUnitTests::testGetCellStreamFunctions</a>()</div>
<div class="line">{</div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid = <a class="code" href="namespacexms.html#a65e5eef7f0e8c64484b1aaa0924364b7">TEST_XmUGridSimpleQuad</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetCellStream</span></div>
<div class="line">  VecInt cellStream = ugrid-&gt;GetCellStream();</div>
<div class="line">  VecInt expectedCellStream = {XMU_QUAD, 4, 0, 3, 4, 1, XMU_QUAD, 4, 1, 4, 5, 2,</div>
<div class="line">                               XMU_QUAD, 4, 3, 6, 7, 4, XMU_QUAD, 4, 4, 7, 8, 5};</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCellStream, cellStream);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetSingleCellStream</span></div>
<div class="line">  ugrid-&gt;GetSingleCellStream(0, cellStream);</div>
<div class="line">  expectedCellStream = {XMU_QUAD, 4, 0, 3, 4, 1};</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCellStream, cellStream);</div>
<div class="line"></div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetCellStreamFunctions</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetCellNeighbors3d"></a>
Example - Get the Cells that Neighbor a Given Cell</h2>
<p>This example shows how to get the cells that neighbor a given cell. Cells are neighbors if they share at least one point. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a1d3d657289605c92c9060aa4caf82788" title="Get the cells neighboring a cell (cells associated with any of it&#39;s points) ">xms::XmUGridImpl::GetCellNeighbors</a> function takes a cell index and returns a vector of cell indices. Functionality is shared between 2d and 3d UGrids. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#a10b3052cdef189ebcc6e28576a76dcfe" title="[snip_test_GetCellNeighbors] ">XmUGridUnitTests::testGetCellNeighbors</a>.</p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#a10b3052cdef189ebcc6e28576a76dcfe">XmUGridUnitTests::testGetCellNeighbors</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//     0-----1-----2</span></div>
<div class="line">  <span class="comment">//     |  0  |  1  |</span></div>
<div class="line">  <span class="comment">//     3-----4-----5</span></div>
<div class="line">  <span class="comment">//     |  2  |  3  |</span></div>
<div class="line">  <span class="comment">//     6-----7-----8</span></div>
<div class="line"></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid = <a class="code" href="namespacexms.html#a65e5eef7f0e8c64484b1aaa0924364b7">TEST_XmUGridSimpleQuad</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  VecInt expectedCells;</div>
<div class="line"></div>
<div class="line">  VecInt retrievedCells;</div>
<div class="line">  retrievedCells = ugrid-&gt;GetCellNeighbors(-1);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  retrievedCells = ugrid-&gt;GetCellNeighbors(0);</div>
<div class="line">  expectedCells = {2, 1, 3};</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells.clear();</div>
<div class="line">  retrievedCells = ugrid-&gt;GetCellNeighbors(4);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells.clear();</div>
<div class="line">  retrievedCells = ugrid-&gt;GetCellNeighbors(5);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells.clear();</div>
<div class="line">  retrievedCells.clear();</div>
<div class="line"></div>
<div class="line">  <span class="comment">// 2D Shapes</span></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid2d = <a class="code" href="namespacexms.html#a8260f0723d0bdca40b077369e5321ac8">TEST_XmUGrid2dLinear</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid2d)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  expectedCells = {1, 5};</div>
<div class="line">  retrievedCells = ugrid2d-&gt;GetCellNeighbors(0);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {0, 2, 3, 4};</div>
<div class="line">  retrievedCells = ugrid2d-&gt;GetCellNeighbors(1);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {1, 3, 4};</div>
<div class="line">  retrievedCells = ugrid2d-&gt;GetCellNeighbors(2);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {2, 1, 4};</div>
<div class="line">  retrievedCells = ugrid2d-&gt;GetCellNeighbors(3);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {1, 2, 3};</div>
<div class="line">  retrievedCells = ugrid2d-&gt;GetCellNeighbors(4);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {0};</div>
<div class="line">  retrievedCells = ugrid2d-&gt;GetCellNeighbors(5);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line"></div>
<div class="line">  <span class="comment">// 3D Shapes</span></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid3d = <a class="code" href="namespacexms.html#af931fa91f04abddf2d9469ef64ecfa70">TEST_XmUGrid3dLinear</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid3d)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  expectedCells = {1, 5};</div>
<div class="line">  retrievedCells = ugrid3d-&gt;GetCellNeighbors(0);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {0, 2, 5};</div>
<div class="line">  retrievedCells = ugrid3d-&gt;GetCellNeighbors(1);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {1, 4, 3};</div>
<div class="line">  retrievedCells = ugrid3d-&gt;GetCellNeighbors(2);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {2, 4};</div>
<div class="line">  retrievedCells = ugrid3d-&gt;GetCellNeighbors(3);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {2, 3};</div>
<div class="line">  retrievedCells = ugrid3d-&gt;GetCellNeighbors(4);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line">  expectedCells = {0, 1};</div>
<div class="line">  retrievedCells = ugrid3d-&gt;GetCellNeighbors(5);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCells, retrievedCells);</div>
<div class="line"></div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetCellNeighbors</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetPlanViewPolygon3d"></a>
Example - Get a Plan View Polygon</h2>
<p>This example shows how to get a plan view polygon. This function first assumes that the shape is prismatic (or that the sides of the shape are vertical) and it gathers the points of the vertical sides. If this method fails, it builds a convex hull of the unique points of the shape. If the second method is employed, concave shapes will result in a convex polygon. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#ac697de12080085c4390901b6886f3c34" title="Get a plan view polygon of a specified cell. ">xms::XmUGridImpl::GetPlanViewPolygon</a> function takes a cell index and a vector of Pt3d which is the points of the plan view polygon and returns whether the operation was succesful. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#a9ea4bb73723dd9b65ad043e9bc4f4144" title="Test getting the plan view of a polygon. ">XmUGridUnitTests::testGetPlanViewPolygon</a>.</p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#a9ea4bb73723dd9b65ad043e9bc4f4144">XmUGridUnitTests::testGetPlanViewPolygon</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// 2d</span></div>
<div class="line">  BSHP&lt;xms::XmUGrid&gt; grid2d = <a class="code" href="namespacexms.html#a8260f0723d0bdca40b077369e5321ac8">TEST_XmUGrid2dLinear</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!grid2d)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">  VecPt3d2d expectedPolygons{</div>
<div class="line">    {{0, 0, 0}, {10, 0, 0}, {10, 10, 0}, {0, 10, 0}},</div>
<div class="line">    {{10, 0, 0}, {20, 0, 0}, {20, 10, 0}, {10, 10, 0}},</div>
<div class="line">    {{20, 0, 0}, {30, 0, 0}, {20, 10, 0}},</div>
<div class="line">    {{30, 0, 0}, {40, 0, 0}, {40, 10, 0}, {40, 20, 0}, {30, 20, 0}, {20, 10, 0}},</div>
<div class="line">    {},</div>
<div class="line">    {}};</div>
<div class="line">  VecPt3d viewPolygon;</div>
<div class="line">  VecPt3d empty;</div>
<div class="line">  <span class="comment">// Bounds testing</span></div>
<div class="line">  TS_ASSERT(!grid2d-&gt;GetPlanViewPolygon(-1, viewPolygon));</div>
<div class="line">  TS_ASSERT_EQUALS(empty, viewPolygon);</div>
<div class="line">  TS_ASSERT(!grid2d-&gt;GetPlanViewPolygon(grid2d-&gt;GetNumberOfCells(), viewPolygon));</div>
<div class="line">  TS_ASSERT_EQUALS(empty, viewPolygon);</div>
<div class="line">  <span class="comment">// Regular testing</span></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; grid2d-&gt;GetNumberOfCells(); ++i)</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// Should return true for the first 4 cells, and false for the last 2</span></div>
<div class="line">    TS_ASSERT(grid2d-&gt;GetPlanViewPolygon(i, viewPolygon) != i &gt;= 4);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedPolygons[i], viewPolygon);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// 3d</span></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid3d = <a class="code" href="namespacexms.html#af931fa91f04abddf2d9469ef64ecfa70">TEST_XmUGrid3dLinear</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid3d)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">  expectedPolygons = {{{0, 0, 0}, {10, 0, 0}, {0, 10, 0}},</div>
<div class="line">                      {{10, 0, 0}, {20, 0, 0}, {20, 10, 0}, {10, 10, 0}},</div>
<div class="line">                      {{20, 0, 0}, {30, 0, 0}, {30, 10, 0}, {20, 10, 0}},</div>
<div class="line">                      {{30, 10, 0}, {40, 10, 0}, {40, 20, 0}, {30, 20, 0}},</div>
<div class="line">                      {{30, 0, 0}, {40, 0, 0}, {40, 10, 0}, {30, 10, 0}},</div>
<div class="line">                      {{0, 10, 0}, {10, 10, 0}, {10, 20, 0}, {0, 20, 0}}};</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; ugrid3d-&gt;GetNumberOfCells(); ++i)</div>
<div class="line">  {</div>
<div class="line">    TS_ASSERT(ugrid3d-&gt;GetPlanViewPolygon(i, viewPolygon));</div>
<div class="line">    TS_ASSERT_EQUALS(expectedPolygons[i], viewPolygon);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  BSHP&lt;xms::XmUGrid&gt; chevronUgrid = <a class="code" href="namespacexms.html#a18cc668860be57dfc3d4800446ab6dfb">TEST_XmUBuild3DChevronUgrid</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!chevronUgrid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  expectedPolygons = {{{0.0, 0.0, 0.0}, {20.0, 10.0, 0.0}, {40.0, 0.0, 0.0}, {20.0, 50.0, 0.0}}};</div>
<div class="line">  TS_ASSERT(chevronUgrid-&gt;GetPlanViewPolygon(0, viewPolygon));</div>
<div class="line">  TS_ASSERT_EQUALS(expectedPolygons[0], viewPolygon);</div>
<div class="line"></div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetPlanViewPolygon</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetNumberOfCellEdges3d"></a>
Example - Get Number of Cell Edges</h2>
<p>This example shows how to get the number of cell edges in a cell. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a5a61c779956a8fe779165f424e5f207f" title="Get the number of edges with specified cell. ">xms::XmUGridImpl::GetNumberOfCellEdges</a> function takes a cell index and returns the number of edges as an int. Functionality is shared between 2d and 3d UGrids. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#ae97216226f2f4d5d684f86b0608d97c0" title="Test iterating through the edges of cells. ">XmUGridUnitTests::testGetCellEdgeFromEdgeIndex</a></p>
<h2><a class="anchor" id="Example_GetCellEdgeFromEdgeIndex3d"></a>
Example - Get Cell Edge from Edge Index</h2>
<p>This example shows how to get the cell edge from a given cell and edge index. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#af384b14abc004867fd83c648a409ba42" title="Get the points of a cell. ">xms::XmUGridImpl::GetCellEdgeFromEdgeIndex</a> function takes a cell index and an edge index and returns a pair of ints containing the point indices of the edge. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, <a class="el" href="class_xm_u_grid_unit_tests.html#ae97216226f2f4d5d684f86b0608d97c0" title="Test iterating through the edges of cells. ">XmUGridUnitTests::testGetCellEdgeFromEdgeIndex</a></p>
<div class="fragment"><div class="line">  {</div>
<div class="line">    std::pair&lt;int, int&gt; edge0(0, 1),                                      <span class="comment">// XMU_TETRA</span></div>
<div class="line">      edge1(1, 5), edge2(0, 5), edge3(0, 15), edge4(1, 15), edge5(5, 15), <span class="comment">// End of XMU_TETRA</span></div>
<div class="line">      edge6(1, 2),                                                        <span class="comment">// XMU_VOXEL</span></div>
<div class="line">      edge7(2, 7), edge8(6, 7), edge9(1, 6), edge10(16, 17), edge11(17, 22), edge12(21, 22),</div>
<div class="line">      edge13(16, 21), edge14(1, 16), edge15(2, 17), edge16(7, 22),</div>
<div class="line">      edge17(6, 21), <span class="comment">// End of XMU_VOXEL</span></div>
<div class="line">      edge18(2, 3),  <span class="comment">// XMU_HEXAHEDRON</span></div>
<div class="line">      edge19(3, 8), edge20(7, 8), edge21(2, 7), edge22(17, 18), edge23(18, 23), edge24(22, 23),</div>
<div class="line">      edge25(17, 22), edge26(2, 17), edge27(3, 18), edge28(8, 23),</div>
<div class="line">      edge29(7, 22), <span class="comment">// End of XMU_HEXAHEDRON</span></div>
<div class="line">      edge30(8, 9),  <span class="comment">// XMU_POLYHEDRON</span></div>
<div class="line">      edge31(8, 13), edge32(8, 23), edge33(9, 14), edge34(9, 24), edge35(13, 14), edge36(13, 28),</div>
<div class="line">      edge37(14, 29), edge38(23, 24), edge39(23, 28), edge40(24, 29),</div>
<div class="line">      edge41(28, 29), <span class="comment">// End of XMU_POLYHEDRON</span></div>
<div class="line">      edge42(3, 4),   <span class="comment">// XMU_WEDGE</span></div>
<div class="line">      edge43(4, 18), edge44(3, 18), edge45(8, 9), edge46(9, 23), edge47(8, 23), edge48(3, 8),</div>
<div class="line">      edge49(4, 9), edge50(18, 23), <span class="comment">// End of XMU_WEDGE</span></div>
<div class="line">      edge51(5, 6),                 <span class="comment">// XMU_PYRAMID</span></div>
<div class="line">      edge52(6, 11), edge53(10, 11), edge54(5, 10), edge55(5, 20), edge56(6, 20), edge57(11, 20),</div>
<div class="line">      edge58(10, 20); <span class="comment">// End of XMU_PYRAMID</span></div>
<div class="line"></div>
<div class="line">    <span class="comment">// 3D Shapes</span></div>
<div class="line">    BSHP&lt;XmUGrid&gt; ugrid3d = <a class="code" href="namespacexms.html#af931fa91f04abddf2d9469ef64ecfa70">TEST_XmUGrid3dLinear</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (!ugrid3d)</div>
<div class="line">    {</div>
<div class="line">      TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    std::vector&lt;std::vector&lt;std::pair&lt;int, int&gt;&gt;&gt; expectedCellsCellEdges;</div>
<div class="line">    expectedCellsCellEdges = {</div>
<div class="line">      {edge0, edge1, edge2, edge3, edge4, edge5},</div>
<div class="line">      {edge6, edge7, edge8, edge9, edge10, edge11, edge12, edge13, edge14, edge15, edge16, edge17},</div>
<div class="line">      {edge18, edge19, edge20, edge21, edge22, edge23, edge24, edge25, edge26, edge27, edge28,</div>
<div class="line">       edge29},</div>
<div class="line">      {edge30, edge31, edge32, edge33, edge34, edge35, edge36, edge37, edge38, edge39, edge40,</div>
<div class="line">       edge41},</div>
<div class="line">      {edge42, edge43, edge44, edge45, edge46, edge47, edge48, edge49, edge50},</div>
<div class="line">      {edge51, edge52, edge53, edge54, edge55, edge56, edge57, edge58}};</div>
<div class="line">    std::vector&lt;std::pair&lt;int, int&gt;&gt; cellEdges;</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0); i &lt; ugrid3d-&gt;GetNumberOfCells(); i++)</div>
<div class="line">    {</div>
<div class="line">      <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j(0); j &lt; ugrid3d-&gt;GetNumberOfCellEdges(i); j++)</div>
<div class="line">      {</div>
<div class="line">        cellEdges.push_back(ugrid3d-&gt;GetCellEdgeFromEdgeIndex(i, j));</div>
<div class="line">      }</div>
<div class="line">      TS_ASSERT_EQUALS(expectedCellsCellEdges[i], cellEdges);</div>
<div class="line">      cellEdges.clear();</div>
<div class="line">    }</div>
<div class="line">  }</div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetAdjacentCells3d"></a>
Example Get Adjacent Cells</h2>
<p>This example shows how to get all cells which share the specified edge with a cell. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#aca7001e994cb008ff79ce51ab6dade80" title="Get the index of the adjacent cells (that shares the same cell edge) ">xms::XmUGridImpl::GetAdjacentCells</a> function takes a cell index and an edge index and returns a vector of cell indices. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, <a class="el" href="class_xm_u_grid_unit_tests.html#aed54639cef412b0227d0726bce50ea08" title="Test all get adjacent cell functions. ">XmUGridUnitTests::testGetAdjacentCellFunctions</a></p>
<h2><a class="anchor" id="Example_GetAdjacentCellsFromAGivenEdge3d"></a>
Example Get Adjacent Cells from Given Edge</h2>
<p>This example shows how to get all cells which contain a given edge. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#ac371852cdb7b830b52f29a8e9b63895d" title="Get the indices of the adjacent cells (that shares the same cell edge) ">xms::XmUGridImpl::GetAdjacentCellsFromGivenEdge</a> function takes two point indices describing an edge and returns a vector of cell indices. There is also an overload which takes a pair of point indices describing an edge. Functionality is shared between 2d and 3d UGrids. The testing code for this example is shared with other examples, <a class="el" href="class_xm_u_grid_unit_tests.html#aed54639cef412b0227d0726bce50ea08" title="Test all get adjacent cell functions. ">XmUGridUnitTests::testGetAdjacentCellFunctions</a></p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#aed54639cef412b0227d0726bce50ea08">XmUGridUnitTests::testGetAdjacentCellFunctions</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//     0-----1-----2</span></div>
<div class="line">  <span class="comment">//     |  0  |  1  |</span></div>
<div class="line">  <span class="comment">//     3-----4-----5</span></div>
<div class="line">  <span class="comment">//     |  2  |  3  |</span></div>
<div class="line">  <span class="comment">//     6-----7-----8</span></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid = <a class="code" href="namespacexms.html#a65e5eef7f0e8c64484b1aaa0924364b7">TEST_XmUGridSimpleQuad</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Get Adjacent Cells from cell and edge</span></div>
<div class="line">  VecInt2d expectedCells = {{}, {2}, {1}, {}};</div>
<div class="line">  VecInt expected2dCells = {-1, 2, 1, -1};</div>
<div class="line">  <span class="keywordtype">int</span> adjacentCell;</div>
<div class="line">  VecInt adjacentCells;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0); i &lt; ugrid-&gt;GetNumberOfCellEdges(0); i++)</div>
<div class="line">  {</div>
<div class="line">    adjacentCells = ugrid-&gt;GetAdjacentCells(0, i);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedCells[i], adjacentCells);</div>
<div class="line">    <span class="comment">// For 2D cells only</span></div>
<div class="line">    adjacentCell = ugrid-&gt;Get2dAdjacentCell(0, i);</div>
<div class="line">    TS_ASSERT_EQUALS(expected2dCells[i], adjacentCell);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Get Adjacent cells from given Edge</span></div>
<div class="line">  VecInt2d expectedCellsFromEdge = {{0, 1}, {0, 2}, {0}};</div>
<div class="line">  std::vector&lt;std::pair&lt;int, int&gt;&gt; edges = {{1, 4}, {3, 4}, {0, 3}};</div>
<div class="line">  adjacentCells = ugrid-&gt;GetAdjacentCellsFromGivenEdge(-1, -1);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0); i &lt; edges.size(); i++)</div>
<div class="line">  {</div>
<div class="line">    adjacentCells = ugrid-&gt;GetAdjacentCellsFromGivenEdge(edges[i]);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedCellsFromEdge[i], adjacentCells);</div>
<div class="line">  }</div>
<div class="line">  adjacentCells = ugrid-&gt;GetAdjacentCellsFromGivenEdge(edges[0].first, edges[1].second);</div>
<div class="line">  TS_ASSERT_EQUALS(expectedCellsFromEdge[0], adjacentCells);</div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetAdjacentCellFunctions</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetEdgesFromPoint3d"></a>
Example Get Edges Associated with a Point</h2>
<p>This example shows how to get edges associated with a point. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a5661f008bb6e01543cc80b8279f5be0b" title="Get the Edges associated with a point. ">xms::XmUGridImpl::GetEdgesFromPoint</a> function takes a point index, a vector of cell indices, and a vector of edge indices. The cell and edge indices will be set by the function. It will return whether it was successful. There are two overloads, the first takes a point index, a vector of cell indices, and a vector of edges defined as a pair of integers which are point indices. The second overload takes a point index, a vector of cell indices, and two vectors of edge point indexes. Functionality is shared between 2d and 3d UGrids. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#ab6185927ee58d0fb24bc6ec8d20f36d5" title="Test retrieving Cell Face Neighbor. ">XmUGridUnitTests::testGetEdgesFromPoint</a></p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#ab6185927ee58d0fb24bc6ec8d20f36d5">XmUGridUnitTests::testGetEdgesFromPoint</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">//     0-----1-----2</span></div>
<div class="line">  <span class="comment">//     |  0  |  1  |</span></div>
<div class="line">  <span class="comment">//     3-----4-----5</span></div>
<div class="line">  <span class="comment">//     |  2  |  3  |</span></div>
<div class="line">  <span class="comment">//     6-----7-----8</span></div>
<div class="line"></div>
<div class="line">  BSHP&lt;xms::XmUGrid&gt; grid = <a class="code" href="namespacexms.html#a65e5eef7f0e8c64484b1aaa0924364b7">TEST_XmUGridSimpleQuad</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!grid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">  VecInt2d expectedCells{</div>
<div class="line">    {0, 0},       {0, 0, 1, 1}, {1, 1},       {0, 0, 2, 2}, {0, 0, 1, 1, 2, 2, 3, 3},</div>
<div class="line">    {1, 1, 3, 3}, {2, 2},       {2, 2, 3, 3}, {3, 3}};</div>
<div class="line">  VecInt2d expectedEdgeIdxs{</div>
<div class="line">    {0, 3},       {2, 3, 0, 3}, {2, 3},       {0, 1, 0, 3}, {1, 2, 0, 1, 2, 3, 0, 3},</div>
<div class="line">    {1, 2, 2, 3}, {0, 1},       {1, 2, 0, 1}, {1, 2}};</div>
<div class="line">  std::vector&lt;std::vector&lt;std::pair&lt;int, int&gt;&gt;&gt; expectedEdges{</div>
<div class="line">    {{0, 3}, {0, 1}},</div>
<div class="line">    {{1, 4}, {0, 1}, {1, 4}, {1, 2}},</div>
<div class="line">    {{2, 5}, {1, 2}},</div>
<div class="line">    {{0, 3}, {3, 4}, {3, 6}, {3, 4}},</div>
<div class="line">    {{3, 4}, {1, 4}, {1, 4}, {4, 5}, {4, 7}, {3, 4}, {4, 7}, {4, 5}},</div>
<div class="line">    {{4, 5}, {2, 5}, {5, 8}, {4, 5}},</div>
<div class="line">    {{3, 6}, {6, 7}},</div>
<div class="line">    {{6, 7}, {4, 7}, {4, 7}, {7, 8}},</div>
<div class="line">    {{7, 8}, {5, 8}}};</div>
<div class="line">  VecInt2d expectedEdgePoints1{</div>
<div class="line">    {0, 0},       {1, 0, 1, 1}, {2, 1},       {0, 3, 3, 3}, {3, 1, 1, 4, 4, 3, 4, 4},</div>
<div class="line">    {4, 2, 5, 4}, {3, 6},       {6, 4, 4, 7}, {7, 5}};</div>
<div class="line">  VecInt2d expectedEdgePoints2{</div>
<div class="line">    {3, 1},       {4, 1, 4, 2}, {5, 2},       {3, 4, 6, 4}, {4, 4, 4, 5, 7, 4, 7, 5},</div>
<div class="line">    {5, 5, 8, 5}, {6, 7},       {7, 7, 7, 8}, {8, 8}};</div>
<div class="line"></div>
<div class="line">  std::vector&lt;std::pair&lt;int, int&gt;&gt; edges;</div>
<div class="line">  VecInt cells;</div>
<div class="line">  VecInt edgeIdx;</div>
<div class="line">  VecInt edgePoints1;</div>
<div class="line">  VecInt edgePoints2;</div>
<div class="line">  VecInt empty;</div>
<div class="line"></div>
<div class="line">  TS_ASSERT(!grid-&gt;GetEdgesFromPoint(-1, cells, edgeIdx));</div>
<div class="line">  TS_ASSERT_EQUALS(empty, cells);</div>
<div class="line">  TS_ASSERT_EQUALS(empty, edgeIdx);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; grid-&gt;GetNumberOfPoints(); ++i)</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// Function 1</span></div>
<div class="line">    grid-&gt;GetEdgesFromPoint(i, cells, edgeIdx);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedCells[i], cells);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedEdgeIdxs[i], edgeIdx);</div>
<div class="line">    <span class="comment">// Overload</span></div>
<div class="line">    grid-&gt;GetEdgesFromPoint(i, cells, edges);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedCells[i], cells);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedEdges[i], edges);</div>
<div class="line">    <span class="comment">// 2nd Overload</span></div>
<div class="line">    grid-&gt;GetEdgesFromPoint(i, cells, edgePoints1, edgePoints2);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedCells[i], cells);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedEdgePoints1[i], edgePoints1);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedEdgePoints2[i], edgePoints2);</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  TS_ASSERT(!grid-&gt;GetEdgesFromPoint(grid-&gt;GetNumberOfPoints(), cells, edgeIdx));</div>
<div class="line">  TS_ASSERT_EQUALS(empty, cells);</div>
<div class="line">  TS_ASSERT_EQUALS(empty, edgeIdx);</div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetEdgesFromPoint</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetEdgesOfCell3d"></a>
Example Get Edges Associated with a Cell</h2>
<p>This example shows how to get edges associated with a cell. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a8222666c6e8747a5f81f602ad87a7c44" title="Get the Edges of a cell. ">xms::XmUGridImpl::GetEdgesOfCell</a> function takes a cell index and returns a vector of pairs of integers which are point indices. Functionality is shared between 2d and 3d UGrids. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#ab6185927ee58d0fb24bc6ec8d20f36d5" title="Test retrieving Cell Face Neighbor. ">XmUGridUnitTests::testGetEdgesFromPoint</a></p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#a9fbe5c625e131c222db1d9a39db33030">XmUGridUnitTests::testGetEdgesOfCell</a>()</div>
<div class="line">{</div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid = <a class="code" href="namespacexms.html#a65e5eef7f0e8c64484b1aaa0924364b7">TEST_XmUGridSimpleQuad</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// Test GetEdgesOfCell</span></div>
<div class="line">  std::vector&lt;std::pair&lt;int, int&gt;&gt; edges = ugrid-&gt;GetEdgesOfCell(0);</div>
<div class="line">  std::vector&lt;std::pair&lt;int, int&gt;&gt; expectededges = {{0, 3}, {3, 4}, {1, 4}, {0, 1}};</div>
<div class="line">  TS_ASSERT_EQUALS(expectededges, edges);</div>
<div class="line"></div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetEdgesOfCell</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetNumberOfFacesForCell"></a>
Example Get Number of Faces for a Cell</h2>
<p>This example shows how to get the number of faces that a cell has. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a43ecb6e3a520df054be4b4f9dfdaeac4" title="Get the number of cell faces for given cell. ">xms::XmUGridImpl::GetNumberOfCellFaces</a> function takes a cell index and returns the number of cell faces associated with it as an integer. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#ac283bd38692be27a8563e21442ce5a7f" title="Test getting edges of single cells. ">XmUGridUnitTests::testGetNumberOfCellEdges</a></p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#a0b7654d480a614b3c72111a747fbe81a">XmUGridUnitTests::testGetNumberOfCellFaces</a>()</div>
<div class="line">{</div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid2d = <a class="code" href="namespacexms.html#a8260f0723d0bdca40b077369e5321ac8">TEST_XmUGrid2dLinear</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid2d)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// test 1D and 2D cells</span></div>
<div class="line">  TS_ASSERT_EQUALS(-1, ugrid2d-&gt;GetNumberOfCellFaces(-1));</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> cellIdx = 0; cellIdx &lt; ugrid2d-&gt;GetNumberOfCells(); ++cellIdx)</div>
<div class="line">  {</div>
<div class="line">    TS_ASSERT_EQUALS(0, ugrid2d-&gt;GetNumberOfCellFaces(cellIdx));</div>
<div class="line">  }</div>
<div class="line">  TS_ASSERT_EQUALS(-1, ugrid2d-&gt;GetNumberOfCellFaces(ugrid2d-&gt;GetNumberOfCells()));</div>
<div class="line"></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid3d = <a class="code" href="namespacexms.html#af931fa91f04abddf2d9469ef64ecfa70">TEST_XmUGrid3dLinear</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid3d)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  <span class="comment">// test 3D cells</span></div>
<div class="line">  TS_ASSERT_EQUALS(-1, ugrid3d-&gt;GetNumberOfCellFaces(-1));</div>
<div class="line">  TS_ASSERT_EQUALS(-1, ugrid3d-&gt;GetNumberOfCellFaces(6));</div>
<div class="line">  TS_ASSERT_EQUALS(4, ugrid3d-&gt;GetNumberOfCellFaces(0));</div>
<div class="line">  TS_ASSERT_EQUALS(6, ugrid3d-&gt;GetNumberOfCellFaces(1));</div>
<div class="line">  TS_ASSERT_EQUALS(6, ugrid3d-&gt;GetNumberOfCellFaces(2));</div>
<div class="line">  TS_ASSERT_EQUALS(6, ugrid3d-&gt;GetNumberOfCellFaces(3));</div>
<div class="line">  TS_ASSERT_EQUALS(5, ugrid3d-&gt;GetNumberOfCellFaces(4));</div>
<div class="line">  TS_ASSERT_EQUALS(5, ugrid3d-&gt;GetNumberOfCellFaces(5));</div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetNumberOfCellFaces</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetCellFace"></a>
Example Get Cell Face</h2>
<p>This example shows how to get a cell face. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a2559e30a768709cf32b41bc8eb315d48" title="Get the cell face for given cell and face index. ">xms::XmUGridImpl::GetCellFace</a> function takes a cell index and a face index and returns a vector of point indices which define the face in counter-clockwise direction. The testing code for this example is shared with another example, <a class="el" href="class_xm_u_grid_unit_tests.html#ac8fa905af3b1c7f8c37e45a407a9d879" title="Test various get face functions. ">XmUGridUnitTests::testGetFaces</a>.</p>
<h2><a class="anchor" id="Example_GetFacesOfCell"></a>
Example Get Faces of Cell</h2>
<p>This example shows how to get all the faces of a cell. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a6a6bbe57df7df77b3be92ceaa4aa998a" title="Get the faces of a cell. ">xms::XmUGridImpl::GetFacesOfCell</a> function takes a cell index and returns a two dimensional vector of point indices which define the faces in counter-clockwise direction. The testing code for this example is shared with another example, <a class="el" href="class_xm_u_grid_unit_tests.html#ac8fa905af3b1c7f8c37e45a407a9d879" title="Test various get face functions. ">XmUGridUnitTests::testGetFaces</a>.</p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#ac8fa905af3b1c7f8c37e45a407a9d879">XmUGridUnitTests::testGetFaces</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// 3D Shapes</span></div>
<div class="line">  BSHP&lt;XmUGrid&gt; ugrid3d = <a class="code" href="namespacexms.html#af931fa91f04abddf2d9469ef64ecfa70">TEST_XmUGrid3dLinear</a>();</div>
<div class="line">  <span class="keywordflow">if</span> (!ugrid3d)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  VecInt cellFace;</div>
<div class="line">  VecInt2d expectedCellFaces = {<span class="comment">// Tetra</span></div>
<div class="line">                                {0, 5, 1},</div>
<div class="line">                                {0, 1, 15},</div>
<div class="line">                                {1, 5, 15},</div>
<div class="line">                                {5, 0, 15},</div>
<div class="line">                                <span class="comment">// Voxel</span></div>
<div class="line">                                {1, 6, 7, 2},</div>
<div class="line">                                {16, 17, 22, 21},</div>
<div class="line">                                {1, 2, 17, 16},</div>
<div class="line">                                {2, 7, 22, 17},</div>
<div class="line">                                {7, 6, 21, 22},</div>
<div class="line">                                {6, 1, 16, 21},</div>
<div class="line">                                <span class="comment">// Hexahedron</span></div>
<div class="line">                                {2, 7, 8, 3},</div>
<div class="line">                                {17, 18, 23, 22},</div>
<div class="line">                                {2, 3, 18, 17},</div>
<div class="line">                                {3, 8, 23, 18},</div>
<div class="line">                                {8, 7, 22, 23},</div>
<div class="line">                                {7, 2, 17, 22},</div>
<div class="line">                                <span class="comment">// Polyhedron</span></div>
<div class="line">                                {8, 9, 14, 13},</div>
<div class="line">                                {8, 9, 24, 23},</div>
<div class="line">                                {9, 14, 29, 24},</div>
<div class="line">                                {13, 14, 29, 28},</div>
<div class="line">                                {8, 13, 28, 23},</div>
<div class="line">                                {23, 24, 29, 28},</div>
<div class="line">                                <span class="comment">// Wedge</span></div>
<div class="line">                                {3, 4, 18},</div>
<div class="line">                                {8, 23, 9},</div>
<div class="line">                                {3, 8, 9, 4},</div>
<div class="line">                                {4, 9, 23, 18},</div>
<div class="line">                                {18, 23, 8, 3},</div>
<div class="line">                                <span class="comment">// Pyramid</span></div>
<div class="line">                                {5, 10, 11, 6},</div>
<div class="line">                                {5, 6, 20},</div>
<div class="line">                                {6, 11, 20},</div>
<div class="line">                                {11, 10, 20},</div>
<div class="line">                                {10, 5, 20}};</div>
<div class="line">  <span class="keywordtype">int</span> currId(0);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0); i &lt; ugrid3d-&gt;GetNumberOfCells(); i++)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j(0); j &lt; ugrid3d-&gt;GetNumberOfCellFaces(i); j++, currId++)</div>
<div class="line">    {</div>
<div class="line">      cellFace = ugrid3d-&gt;GetCellFace(i, j);</div>
<div class="line">      TS_ASSERT_EQUALS(expectedCellFaces[currId], cellFace);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  <span class="comment">// Tetra</span></div>
<div class="line">  VecInt2d cellFaces;</div>
<div class="line">  currId = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0); i &lt; ugrid3d-&gt;GetNumberOfCells(); i++)</div>
<div class="line">  {</div>
<div class="line">    cellFaces = ugrid3d-&gt;GetFacesOfCell(i);</div>
<div class="line">    TS_ASSERT_EQUALS(cellFaces.size(), ugrid3d-&gt;GetNumberOfCellFaces(i));</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j(0); j &lt; ugrid3d-&gt;GetNumberOfCellFaces(i); j++, currId++)</div>
<div class="line">    {</div>
<div class="line">      TS_ASSERT_EQUALS(expectedCellFaces[currId], cellFaces[j]);</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetFaces</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetFacesFromPoint"></a>
Example GetFacesFromPoint</h2>
<p>This example shows how to get all the faces associated with a point. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a9b9df42409864a7a30b099a2b18f8100" title="Get the cell face associated with a point. ">xms::XmUGridImpl::GetFacesFromPoint</a> function takes in a point index and a vector of integers which it will set with the cell indices and a vector of integers which it will set with the face indices. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#a3bfd0a5f476433f5cf129ea8809b213b" title="Test retrieving Cell Faces From Point. ">XmUGridUnitTests::testGetFacesFromPoint</a></p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#a3bfd0a5f476433f5cf129ea8809b213b">XmUGridUnitTests::testGetFacesFromPoint</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// 2 hexahedrons</span></div>
<div class="line">  <span class="keywordtype">int</span> rows = 3;</div>
<div class="line">  <span class="keywordtype">int</span> cols = 2;</div>
<div class="line">  <span class="keywordtype">int</span> lays = 2;</div>
<div class="line"></div>
<div class="line">  BSHP&lt;xms::XmUGrid&gt; grid = <a class="code" href="namespacexms.html#a0a50a2c6d678fa5e90212d03fecd3f44">TEST_XmUBuildHexahedronUgrid</a>(rows, cols, lays);</div>
<div class="line">  <span class="keywordflow">if</span> (!grid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">  VecInt empty;</div>
<div class="line">  VecInt2d expectedCell{</div>
<div class="line">    {0, 0, 0}, {0, 0, 0}, {0, 0, 0, 1, 1, 1}, {0, 0, 0, 1, 1, 1}, {1, 1, 1}, {1, 1, 1},</div>
<div class="line">    {0, 0, 0}, {0, 0, 0}, {0, 0, 0, 1, 1, 1}, {0, 0, 0, 1, 1, 1}, {1, 1, 1}, {1, 1, 1}};</div>
<div class="line">  VecInt2d expectedFaces{</div>
<div class="line">    {0, 2, 5}, {0, 4, 5}, {0, 2, 3, 0, 2, 5}, {0, 3, 4, 0, 4, 5}, {0, 2, 3}, {0, 3, 4},</div>
<div class="line">    {1, 2, 5}, {1, 4, 5}, {1, 2, 3, 1, 2, 5}, {1, 3, 4, 1, 4, 5}, {1, 2, 3}, {1, 3, 4}};</div>
<div class="line">  VecInt cells, faces;</div>
<div class="line">  <span class="keywordtype">int</span> currId(0);</div>
<div class="line">  TS_ASSERT(!grid-&gt;GetFacesFromPoint(-1, cells, faces));</div>
<div class="line">  TS_ASSERT_EQUALS(empty, cells);</div>
<div class="line">  TS_ASSERT_EQUALS(empty, faces);</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0); i &lt; grid-&gt;GetNumberOfPoints(); i++, currId++)</div>
<div class="line">  {</div>
<div class="line">    <span class="comment">// Check first function</span></div>
<div class="line">    grid-&gt;GetFacesFromPoint(i, cells, faces);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedCell[currId], cells);</div>
<div class="line">    TS_ASSERT_EQUALS(expectedFaces[currId], faces);</div>
<div class="line">  }</div>
<div class="line">  TS_ASSERT(!grid-&gt;GetFacesFromPoint(grid-&gt;GetNumberOfPoints(), cells, faces));</div>
<div class="line">  TS_ASSERT_EQUALS(empty, cells);</div>
<div class="line">  TS_ASSERT_EQUALS(empty, faces);</div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetFacesFromPoint</span></div>
</div><!-- fragment --> <h2><a class="anchor" id="Example_GetCellFaceNeighbor"></a>
Example Get Cell Face Neighbor</h2>
<p>This example shows how to get the cell, if any, which shares a face with a specified cell and face. The <a class="el" href="classxms_1_1_xm_u_grid_impl.html#a3fb19dcb7956ef6be59d8945e9dab2fc" title="Get the cell face neighbors for given cell and face index. ">xms::XmUGridImpl::GetCellFaceNeighbor</a> function takes a cell index and a face index and return the cell index of the cell which shares the face, or negative 1 if there are none. There is an overload which takes a cell index, a face index, an integer which it will set to be the cell index if any of the neighboring cell, and an integer which it will set to be the face of the neighboring cell which it shares with the specified cell if any, and returns true if there is a cell with a shared face. The testing code for this example is <a class="el" href="class_xm_u_grid_unit_tests.html#ab7b72fe22de02cf826a13b56cf0b5c1f" title="[snip_test_GetCellFaceNeighbor] ">XmUGridUnitTests::testGetCellFaceNeighbor</a>.</p>
<div class="fragment"><div class="line"><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="comment"></span><span class="comment">//------------------------------------------------------------------------------</span></div>
<div class="line"><span class="keywordtype">void</span> <a class="code" href="class_xm_u_grid_unit_tests.html#ab7b72fe22de02cf826a13b56cf0b5c1f">XmUGridUnitTests::testGetCellFaceNeighbor</a>()</div>
<div class="line">{</div>
<div class="line">  <span class="comment">// 2 hexahedrons</span></div>
<div class="line">  <span class="keywordtype">int</span> rows = 3;</div>
<div class="line">  <span class="keywordtype">int</span> cols = 2;</div>
<div class="line">  <span class="keywordtype">int</span> lays = 2;</div>
<div class="line"></div>
<div class="line">  BSHP&lt;xms::XmUGrid&gt; grid = <a class="code" href="namespacexms.html#a0a50a2c6d678fa5e90212d03fecd3f44">TEST_XmUBuildHexahedronUgrid</a>(rows, cols, lays);</div>
<div class="line">  <span class="keywordflow">if</span> (!grid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  VecInt expectedNeighbor{-1, -1, -1, 1, -1, -1, -1, -1, -1, -1, -1, 0};</div>
<div class="line">  VecInt expectedFace{-1, -1, -1, 5, -1, -1, -1, -1, -1, -1, -1, 3};</div>
<div class="line">  <span class="keywordtype">int</span> currId(0);</div>
<div class="line">  <span class="keywordtype">int</span> neighborCell;</div>
<div class="line"></div>
<div class="line">  neighborCell = grid-&gt;GetCellFaceNeighbor(-1, 0);</div>
<div class="line">  TS_ASSERT_EQUALS(-1, neighborCell);</div>
<div class="line">  neighborCell = grid-&gt;GetCellFaceNeighbor(0, -1);</div>
<div class="line">  TS_ASSERT_EQUALS(-1, neighborCell);</div>
<div class="line"></div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0); i &lt; grid-&gt;GetNumberOfCells(); i++)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j(0); j &lt; grid-&gt;GetNumberOfCellFaces(i); j++, currId++)</div>
<div class="line">    {</div>
<div class="line">      <span class="comment">// Check first function</span></div>
<div class="line">      neighborCell = grid-&gt;GetCellFaceNeighbor(i, j);</div>
<div class="line">      TS_ASSERT_EQUALS(expectedNeighbor[currId], neighborCell);</div>
<div class="line"></div>
<div class="line">      <span class="comment">// Check overload function</span></div>
<div class="line">      <span class="keywordtype">int</span> faceIndex(-1);</div>
<div class="line">      grid-&gt;GetCellFaceNeighbor(i, j, neighborCell, faceIndex);</div>
<div class="line">      TS_ASSERT_EQUALS(expectedNeighbor[currId], neighborCell);</div>
<div class="line">      TS_ASSERT_EQUALS(expectedFace[currId], faceIndex);</div>
<div class="line"></div>
<div class="line">      <span class="comment">// Check that faces are the same</span></div>
<div class="line">      VecInt expectedFacePt = grid-&gt;GetCellFace(i, j);</div>
<div class="line">      std::sort(expectedFacePt.begin(), expectedFacePt.end());</div>
<div class="line">      VecInt neighborFacePt = grid-&gt;GetCellFace(neighborCell, faceIndex);</div>
<div class="line">      std::sort(neighborFacePt.begin(), neighborFacePt.end());</div>
<div class="line">      <span class="keywordflow">if</span> (!expectedFacePt.empty() &amp;&amp; !neighborFacePt.empty())</div>
<div class="line">      {</div>
<div class="line">        TS_ASSERT_EQUALS(expectedFacePt, neighborFacePt);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">  neighborCell = grid-&gt;GetCellFaceNeighbor(grid-&gt;GetNumberOfCells(), 0);</div>
<div class="line">  TS_ASSERT_EQUALS(-1, neighborCell);</div>
<div class="line">  neighborCell = grid-&gt;GetCellFaceNeighbor(0, grid-&gt;GetNumberOfCells());</div>
<div class="line">  TS_ASSERT_EQUALS(-1, neighborCell);</div>
<div class="line"></div>
<div class="line">  rows = 3;</div>
<div class="line">  cols = 3;</div>
<div class="line">  lays = 3;</div>
<div class="line">  grid = <a class="code" href="namespacexms.html#a0a50a2c6d678fa5e90212d03fecd3f44">TEST_XmUBuildHexahedronUgrid</a>(rows, cols, lays);</div>
<div class="line">  <span class="keywordflow">if</span> (!grid)</div>
<div class="line">  {</div>
<div class="line">    TS_FAIL(<span class="stringliteral">&quot;Unable to create UGrid.&quot;</span>);</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"></div>
<div class="line">  expectedNeighbor.clear();</div>
<div class="line">  expectedNeighbor = {-1, 4, -1, 2,  1, -1, -1, 5,  0, 3,  -1, -1, -1, 6,  -1, -1,</div>
<div class="line">                      3,  0, -1, 7,  2, -1, -1, 1,  0, -1, -1, 6,  5,  -1, 1,  -1,</div>
<div class="line">                      4,  7, -1, -1, 2, -1, -1, -1, 7, 4,  3,  -1, 6,  -1, -1, 5};</div>
<div class="line">  expectedFace = {-1, 0, -1, 5,  2, -1, -1, 0,  4, 5,  -1, -1, -1, 0,  -1, -1,</div>
<div class="line">                  2,  3, -1, 0,  4, -1, -1, 3,  1, -1, -1, 5,  2,  -1, 1,  -1,</div>
<div class="line">                  4,  5, -1, -1, 1, -1, -1, -1, 2, 3,  1,  -1, 4,  -1, -1, 3};</div>
<div class="line">  currId = 0;</div>
<div class="line">  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i(0); i &lt; grid-&gt;GetNumberOfCells(); i++)</div>
<div class="line">  {</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> j(0); j &lt; grid-&gt;GetNumberOfCellFaces(i); j++, currId++)</div>
<div class="line">    {</div>
<div class="line">      <span class="comment">// Check first function</span></div>
<div class="line">      neighborCell = grid-&gt;GetCellFaceNeighbor(i, j);</div>
<div class="line">      TS_ASSERT_EQUALS(expectedNeighbor[currId], neighborCell);</div>
<div class="line"></div>
<div class="line">      <span class="comment">// Check overload function</span></div>
<div class="line">      <span class="keywordtype">int</span> faceIndex(-1);</div>
<div class="line">      grid-&gt;GetCellFaceNeighbor(i, j, neighborCell, faceIndex);</div>
<div class="line">      TS_ASSERT_EQUALS(expectedNeighbor[currId], neighborCell);</div>
<div class="line">      TS_ASSERT_EQUALS(expectedFace[currId], faceIndex);</div>
<div class="line"></div>
<div class="line">      <span class="comment">// Check that faces are the same</span></div>
<div class="line">      VecInt expectedFacePt = grid-&gt;GetCellFace(i, j);</div>
<div class="line">      std::sort(expectedFacePt.begin(), expectedFacePt.end());</div>
<div class="line">      VecInt neighborFacePt = grid-&gt;GetCellFace(neighborCell, faceIndex);</div>
<div class="line">      std::sort(neighborFacePt.begin(), neighborFacePt.end());</div>
<div class="line">      <span class="keywordflow">if</span> (!expectedFacePt.empty() &amp;&amp; !neighborFacePt.empty())</div>
<div class="line">      {</div>
<div class="line">        TS_ASSERT_EQUALS(expectedFacePt, neighborFacePt);</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">} <span class="comment">// XmUGridUnitTests::testGetCellFaceNeighbor</span></div>
</div><!-- fragment --><p>  </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Aug 6 2018 21:25:10 for xmsgrid by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
